<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction: Virtuoso Installation and Configuration • virtuoso</title>
<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction: Virtuoso Installation and Configuration">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">virtuoso</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/articles/datalake.html">The Data Lake: Schema on Read</a>
    </li>
    <li>
      <a href="../articles/installation.html">Introduction: Virtuoso Installation and Configuration</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction: Virtuoso Installation and Configuration</h1>
                        <h4 class="author">Carl Boettiger</h4>
            
            <h4 class="date">2018-12-03</h4>
      
      
      <div class="hidden name"><code>installation.Rmd</code></div>

    </div>

    
    
<p><a href="https://en.wikipedia.org/wiki/Virtuoso_Universal_Server">Virtuoso</a> is a high-performance “universal server” that can act as both a relational database (supporting standard SQL queries) and an RDF triplestore, (supporting SPARQL queries).<br>
Virtuoso supports communication over the standard ODBC interface, and so R users can potentially connect to Virtuoso merely by installing the server and using the <code>odbc</code> R package. However, installation can present a few gotchas to users unfamiliar with Virtuoso. This package seeks to streamline the process of installing, managing, and querying a Virtuoso server. While the package can be also be used merely to provide a standard <code>DBI</code> connection to an RDBS, e.g. as a <code>dplyr</code> back-end, Virtuoso’s popularity and performance is particularly notable with respect to RDF data and SPARQL queries, so most examples focus on those use cases.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The <code>virtuoso</code> package provides installation helpers for both Mac OSX and Windows users through the function <code><a href="../reference/vos_install.html">vos_install()</a></code>. At the time of writing, the Mac OS X installer uses Homebrew to install the Virtuoso Open Source server (similar to the <code>hugo</code> installer in RStudio’s <code>blogdown</code>). On Windows, <code><a href="../reference/vos_install.html">vos_install()</a></code> downloads and executes the Windows self-extracting archive (<code>.exe</code> file), which will open a standard installation dialog in interactive mode, or be run automatically if not run in an interactive session. No automated installer is provided for Linux systems; Linux users are encouraged to simply install the appropriate binaries for their distribution (e.g. <code>apt-get install -y virtuoso-opensource</code> on Debian/Ubuntu systems).</p>
</div>
<div id="configuration" class="section level2">
<h2 class="hasAnchor">
<a href="#configuration" class="anchor"></a>Configuration</h2>
<p>Virtuoso Open Source configuration is controlled by a <code>virtouso.ini</code> file, which sets, among other things, which directories can be accessed for tasks such as bulk import, as well as performance tweaks such as available memory. Unfortunately, the Virtuoso server process (<code>virtuoso-t</code> application) cannot start without a path to an appropriate config file, and the installers (e.g. on both Windows and Linux) frequently install an example <code>virtuoso.ini</code> to a location which can be hard to find and for which users do not have permission to edit directly. Moreover, the file format is not always intuitive to edit. The <code>virtuoso</code> package thus helps locate this file and provides a helper function, <code><a href="../reference/vos_configure.html">vos_configure()</a></code>, to create and modify this configuration file. Because reasonable defaults are also provided by this function, users should usually not need to call this function manually. <code><a href="../reference/vos_configure.html">vos_configure()</a></code> is called automatically from <code><a href="../reference/vos_start.html">vos_start()</a></code> if the path to a <code>virtuoso.ini</code> file is not passed to <code><a href="../reference/vos_start.html">vos_start()</a></code>.</p>
<p>In addition to configuring Virtuoso’s settings through a <code>virtuoso.ini</code> file, the other common barrier is setting up the driver for the ODBC connection. Some installers (Mac, Linux) do not automatically add the appropriate driver to an active <code>odbcinst.ini</code> file with a predictable Driver Server Name, which we need to know to initiate the ODBC connection. An internal helper function handles identifying drivers and establishing the appropriate <code>odcinst.ini</code> automatically when necessary.</p>
</div>
<div id="server-management" class="section level2">
<h2 class="hasAnchor">
<a href="#server-management" class="anchor"></a>Server management</h2>
<p>Lastly, Virtuoso Open Source is often run as a system service, starting when the operating system starts. This is often undesirable, as the casual laptop user does not want the service running all the time, and can be difficult to control for users unfamiliar with managing such background services on their operating systems. Instead of this behavior, the <code>virtuoso</code> package provides an explicit interface to control the external server. The server only starts when created by <code><a href="../reference/vos_start.html">vos_start()</a></code>, and ends automatically when the R process ends, or can be killed, paused, or resumed at any time from R (e.g. via <code><a href="../reference/vos_kill.html">vos_kill()</a></code>). Helper utilities can also query the status and logs of the server from R. As with most database servers, data persists to disk, at an appropriate location for the OS determined by <code>rappdirs</code> package, and a helper utility, <code><a href="../reference/vos_delete_db.html">vos_delete_db()</a></code> can remove this persistent storage location.</p>
<p>Users can also connect directly to any existing (local or remote) Virtuoso instance by passing the appropriate information to <code><a href="../reference/vos_connect.html">vos_connect()</a></code>, which can be convenient for queries.</p>
<p>Note that he Virtuoso back-end provided by the R package <code>rdflib</code> can also connect to any Virtuoso server created by the <code>virtuoso</code> R package, though queries loading and queries through the <code>redland</code> libraries used by <code>rdflib</code> will generally be slower than direct calls over ODBC via the <code>virtuoso</code> package functions, often dramatically so for large triplestores.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#installation">Installation</a></li>
      <li><a href="#configuration">Configuration</a></li>
      <li><a href="#server-management">Server management</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Carl Boettiger.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
